<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomelli | The Estate</title>

    <!-- PREMIUM FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;600;700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400;1,600&family=Monsieur+La+Doulaise&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <style>
        /* ========================
           1. FOUNDATION OF LUXURY
           ======================== */
        :root {
            --brand-cherry: #721121;  /* Deep Vintage Red */
            --brand-cream: #FDFBF7;   /* Estate Paper */
            --brand-dark: #1E1210;    /* Walnut Ink */
            --brand-gold: #C0A062;    /* Matte Gold */
            --font-title: 'Cinzel', serif;
            --font-body: 'Cormorant Garamond', serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: var(--brand-cream);
            color: var(--brand-dark);
            font-family: var(--font-body);
            font-size: 18px;
            overflow-x: hidden;
            padding-bottom: 90px;
        }

        img { width: 100%; display: block; object-fit: cover; }
        
        h1, h2, h3, h4, .btn { font-family: var(--font-title); text-transform: uppercase; letter-spacing: 0.05em; }
        .script { font-family: 'Monsieur La Doulaise', cursive; line-height: 0.7; color: var(--brand-cherry); }

        /* ========================
           2. NAVIGATION & LOGO
           ======================== */
        .app-header {
            position: fixed; top: 0; left: 0; width: 100%; height: 60px;
            background: rgba(253, 251, 247, 0.96);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0,0,0,0.06);
            display: flex; justify-content: center; align-items: center;
            z-index: 2000;
        }

        .logo-container img {
            height: 35px; /* LOGO FIX: Small and Perfect in frame */
            width: auto;
            mix-blend-mode: multiply;
        }

        .bag-icon {
            position: absolute; right: 25px; 
            font-size: 1.3rem; color: var(--brand-dark); cursor: pointer;
        }
        .bag-count {
            position: absolute; top: -5px; right: -8px;
            background: var(--brand-cherry); color: white;
            font-family: var(--font-title); font-size: 0.7rem; font-weight: bold;
            width: 18px; height: 18px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; transition: 0.3s;
        }
        .bag-count.show { opacity: 1; }

        /* ========================
           3. HERO VIDEO HEADER
           ======================== */
        .hero {
            margin-top: 60px;
            position: relative; width: 100%; height: 50vh;
        }
        .hero video { height: 100%; width: 100%; object-fit: cover; filter: brightness(0.75); }
        .hero-text {
            position: absolute; bottom: 30px; left: 30px; color: white;
            text-shadow: 0 4px 15px rgba(0,0,0,0.6);
        }

        /* ========================
           4. STICKY TABS
           ======================== */
        .sticky-tabs {
            position: sticky; top: 60px; background: var(--brand-cream);
            display: flex; overflow-x: auto; padding: 15px 20px;
            gap: 15px; z-index: 1000;
            border-bottom: 1px solid #efeae0;
            scrollbar-width: none; /* Hide scrollbar */
        }
        .sticky-tabs::-webkit-scrollbar { display: none; }

        .tab-btn {
            background: transparent; border: 1px solid #d4cfc5; border-radius: 50px;
            padding: 8px 18px; white-space: nowrap; font-family: var(--font-title);
            font-size: 0.8rem; color: #777; cursor: pointer; transition: 0.3s;
        }
        .tab-btn.active {
            background: var(--brand-cherry); color: white; border-color: var(--brand-cherry);
        }

        /* ========================
           5. PRODUCT FEED
           ======================== */
        .tab-content { display: none; padding: 25px 20px; animation: fadeInUp 0.5s; }
        .tab-content.active { display: block; }
        @keyframes fadeInUp { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }

        .product-card {
            background: white; border-radius: 8px; overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.06); margin-bottom: 30px;
        }
        
        /* Action Image Header */
        .card-image-block { position: relative; height: 380px; }
        .price-badge {
            position: absolute; bottom: 20px; right: 20px;
            background: white; padding: 6px 14px;
            font-family: var(--font-title); font-weight: bold; color: var(--brand-cherry);
            border-radius: 4px; box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }

        .card-info { padding: 25px; text-align: center; }
        .card-info h3 { font-size: 1.3rem; margin-bottom: 5px; color: var(--brand-dark); }
        .short-desc { color: #666; font-size: 1rem; margin-bottom: 20px; line-height: 1.5; }

        .btn-action {
            width: 100%; padding: 15px; border: none;
            background: var(--brand-dark); color: var(--brand-gold);
            font-family: var(--font-title); font-size: 1rem; cursor: pointer;
        }

        /* The Special Story Layout for Service */
        .service-layout {
            text-align: center; background: white; border: 1px solid var(--brand-gold);
            padding: 30px; border-radius: 0;
        }

        /* ========================
           6. THE ULTRA-VISUAL MODAL
           ======================== */
        .modal-overlay {
            position: fixed; inset: 0; background: rgba(30,18,16, 0.7);
            z-index: 3000; display: none; backdrop-filter: blur(4px);
            opacity: 0; transition: 0.3s;
        }
        .modal-overlay.open { display: block; opacity: 1; }

        .detail-sheet {
            position: fixed; bottom: -100%; left: 0; width: 100%; height: 92vh;
            background: white; z-index: 3100;
            border-radius: 20px 20px 0 0; transition: 0.4s cubic-bezier(0.33, 1, 0.68, 1);
            overflow-y: scroll; padding-bottom: 100px;
            background-color: var(--brand-cream);
        }
        .detail-sheet.open { bottom: 0; }

        /* The Ultra Details Styling */
        .sheet-hero-img { height: 400px; position: relative; }
        
        .close-btn {
            position: absolute; top: 20px; right: 20px;
            background: white; width: 40px; height: 40px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; cursor: pointer; z-index: 10;
        }

        .sheet-body { padding: 40px 25px; }

        /* VISUAL DESCRIPTION BLOCKS */
        .profile-grid {
            display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;
            margin: 20px 0 30px; text-align: center;
        }
        .profile-item { background: #EFEBE5; padding: 10px; border-radius: 4px; }
        .profile-icon { font-size: 1.2rem; color: var(--brand-cherry); margin-bottom: 5px; }
        .profile-label { font-size: 0.7rem; font-family: var(--font-title); color: #666; text-transform: uppercase; }

        .story-text {
            font-size: 1.3rem; line-height: 1.7; color: #333; margin-bottom: 30px;
        }
        
        /* The "Embedded Visual" */
        .embedded-visual {
            margin: 20px -25px 20px; /* Full bleed mobile */
            height: 250px; 
            background-size: cover; background-position: center;
        }

        /* Ingredients Visual List */
        .ing-row { display: flex; justify-content: space-between; border-bottom: 1px dashed #dcdcdc; padding: 12px 0; font-size: 1.1rem; color: #555;}
        
        .add-to-trunk-bar {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: white; padding: 15px 20px; border-top: 1px solid #eee;
            transform: translateY(100%); transition: 0.4s; z-index: 3200;
            display: flex; justify-content: space-between; align-items: center;
        }
        .add-to-trunk-bar.visible { transform: translateY(0); }

        .total-display { font-family: var(--font-title); font-size: 1.2rem; color: var(--brand-cherry); }
        .big-add-btn { background: var(--brand-dark); color: var(--brand-gold); padding: 15px 30px; border:none; font-family: var(--font-title); border-radius: 50px; cursor: pointer; }


        /* ========================
           7. CART & CONCIERGE
           ======================== */
        .concierge-panel {
            position: fixed; inset: 0; background: var(--brand-cream);
            z-index: 4000; display: none; overflow-y: scroll;
        }
        .concierge-panel.open { display: block; animation: slideIn 0.3s ease; }
        @keyframes slideIn { from{transform:translateX(100%);} to{transform:translateX(0);} }

        .concierge-header {
            padding: 20px; border-bottom: 2px solid var(--brand-gold);
            display: flex; align-items: center; justify-content: space-between;
        }
        
        .concierge-form { padding: 30px; }
        
        .form-label { font-family: var(--font-title); font-size: 0.8rem; color: var(--brand-cherry); margin-bottom: 8px; display: block; letter-spacing: 1px; }
        .c-input { 
            width: 100%; padding: 15px; border: 1px solid #ccc; 
            background: white; margin-bottom: 25px; 
            font-family: var(--font-body); font-size: 1.1rem; 
        }

    </style>
</head>
<body>

    <!-- NAV -->
    <nav class="app-header">
        <div class="logo-container">
            <img src="pomelli-vintage-logo-script.jpg" alt="POMELLI">
        </div>
        <div class="bag-icon" onclick="openConcierge()">
            <i class="fa-solid fa-bell-concierge"></i>
            <span class="bag-count" id="cart-badge">0</span>
        </div>
    </nav>

    <!-- HERO -->
    <section class="hero">
        <video autoplay muted loop playsinline>
            <source src="https://rfwlaucrlfohxrrspxmx.supabase.co/storage/v1/object/public/pomelli-gallery/asembeling%20carrot%20cake%20video.mp4" type="video/mp4">
        </video>
        <div class="hero-text">
            <span class="script" style="font-size: 4rem; margin-left: -10px;">The Archives</span>
            <h1 style="font-size: 2.5rem; line-height: 0.9;">Estate<br>Provisions</h1>
        </div>
    </section>

    <!-- TABS -->
    <div class="sticky-tabs">
        <button class="tab-btn active" onclick="switchTab('morning', this)">Morning Room</button>
        <button class="tab-btn" onclick="switchTab('patisserie', this)">Grand Patisserie</button>
        <button class="tab-btn" onclick="switchTab('gifts', this)">Gifting & Sets</button>
    </div>


    <!-- === 1. MORNING GOODS === -->
    <div id="morning" class="tab-content active">
        
        <!-- STICKY BUNS -->
        <div class="product-card">
            <div class="card-image-block">
                <!-- Using Action Shot Cover as requested -->
                <img src="sticky_glove.jpg" alt="Sticky Buns">
                <span class="price-badge">850 EGP</span>
            </div>
            <div class="card-info">
                <h3>The Estate Sticky Buns</h3>
                <p class="short-desc">12 hand-rolled brioche spirals soaking in a bed of salted brown butter pecan caramel.</p>
                <button class="btn-action" onclick="openDetails(0)">Examine Provisions</button>
            </div>
        </div>

    </div>


    <!-- === 2. GRAND PATISSERIE === -->
    <div id="patisserie" class="tab-content">
        
        <!-- CARROT CAKE -->
        <div class="product-card">
            <div class="card-image-block">
                <img src="https://rfwlaucrlfohxrrspxmx.supabase.co/storage/v1/object/public/pomelli-gallery/sovereign-carrot-cake-whole.jpg">
                <span class="price-badge">1,250 EGP</span>
            </div>
            <div class="card-info">
                <h3>The Sovereign Gâteau</h3>
                <p class="short-desc">Our flagship provision. Three dense layers of heritage carrot and candied pecan.</p>
                <button class="btn-action" onclick="openDetails(1)">Examine Provisions</button>
            </div>
        </div>

        <!-- SALON SLICE -->
        <div class="product-card">
            <div class="card-image-block">
                <img src="https://rfwlaucrlfohxrrspxmx.supabase.co/storage/v1/object/public/pomelli-gallery/carrot-cake-slice-art-deco-plate.jpg">
                <span class="price-badge">145 EGP</span>
            </div>
            <div class="card-info">
                <h3>The Salon Slice</h3>
                <p class="short-desc">A single, generous cut served with warm sauce for the solitary hedonist.</p>
                <button class="btn-action" onclick="openDetails(2)">Examine Provisions</button>
            </div>
        </div>

    </div>


    <!-- === 3. GIFTING & SETS === -->
    <div id="gifts" class="tab-content">
        <!-- Watercolor Beatrix Card -->
        <div class="service-layout" style="background-image: url('https://rfwlaucrlfohxrrspxmx.supabase.co/storage/v1/object/public/pomelli-gallery/packaging-watercolor-woodland-art.jpg'); background-size: cover; border: none; padding: 60px 20px;">
            <div style="background: rgba(255,255,255,0.9); padding: 30px;">
                <span class="script" style="font-size: 2.5rem;">Beatrix Potter</span>
                <h3 style="color: var(--brand-cherry); margin: 10px 0;">Folklore Packaging</h3>
                <p class="short-desc">Every allocation arrives in boxes adorned with woodland watercolor art.</p>
            </div>
        </div>
        
        <br>

        <div class="product-card">
            <div class="card-info">
                <h3>Butler Service Inquiry</h3>
                <p class="short-desc">Request tableside service setup (Cairo Only).</p>
                <button class="btn-action" onclick="openDetails(3)">Contact The Chef</button>
            </div>
        </div>
    </div>


    <!-- ============================================
         THE ULTRA VISUAL MODAL (PRODUCT DETAILS)
         ============================================ -->
    
    <div class="modal-overlay" id="sheet-overlay" onclick="closeSheet()"></div>
    
    <div class="detail-sheet" id="product-sheet">
        <div class="sheet-hero-img">
            <div class="close-btn" onclick="closeSheet()"><i class="fa-solid fa-xmark"></i></div>
            <img id="m-img" src="" style="width:100%; height:100%; object-fit: cover;">
        </div>

        <div class="sheet-body">
            <span class="script" style="font-size: 3rem; display:block; text-align:center; margin-bottom:10px;">The Profile</span>
            <h2 id="m-title" style="text-align: center; font-size: 2rem; color: var(--brand-dark);">Title</h2>
            
            <!-- 1. Visual Icon Grid -->
            <div class="profile-grid">
                <div class="profile-item">
                    <i class="profile-icon fa-solid fa-wheat-awn"></i>
                    <div class="profile-label">Hand Rolled</div>
                </div>
                <div class="profile-item">
                    <i class="profile-icon fa-solid fa-temperature-three-quarters"></i>
                    <div class="profile-label">Warm Service</div>
                </div>
                <div class="profile-item">
                    <i class="profile-icon fa-regular fa-clock"></i>
                    <div class="profile-label">24hr Prep</div>
                </div>
            </div>

            <!-- 2. Typography Description -->
            <div id="m-desc" class="story-text">
                <!-- Javascript will inject Rich HTML here -->
            </div>
            
            <!-- 3. Embedded Visual Area (for secondary images) -->
            <div id="m-visual" class="embedded-visual" style="display:none;"></div>
            
            <h4 style="text-align: center; color: var(--brand-gold); margin-top: 40px; border-bottom: 1px solid #eee; padding-bottom: 10px;">Component List</h4>
            <div class="ing-row">
                <span>Ingredient I</span>
                <span style="font-family: var(--font-title); color: var(--brand-cherry);">Pecan</span>
            </div>
            <div class="ing-row">
                <span>Ingredient II</span>
                <span style="font-family: var(--font-title); color: var(--brand-cherry);">Brown Butter</span>
            </div>
            
            <div style="height: 100px;"></div> <!-- Spacing for button -->
        </div>

        <!-- Sticky Buy Button -->
        <div class="add-to-trunk-bar" id="buy-bar">
            <div class="total-display" id="m-price">0 EGP</div>
            <button class="big-add-btn" id="m-btn">Add Allocation</button>
        </div>
    </div>


    <!-- ============================================
         THE CONCIERGE (CHECKOUT)
         ============================================ -->
    
    <div class="concierge-panel" id="cart-panel">
        <div class="concierge-header">
            <h2>Concierge Desk</h2>
            <i class="fa-solid fa-xmark" onclick="closeConcierge()" style="font-size: 1.5rem; cursor: pointer;"></i>
        </div>
        
        <div style="padding: 20px;">
            <p id="empty-msg" style="text-align: center; color: #999; margin: 40px 0;">Your estate allocation list is empty.</p>
            <div id="cart-list"></div>
        </div>

        <!-- ADDRESS FORM WITH DROP DOWN -->
        <div class="concierge-form" id="checkout-form" style="display:none; border-top: 10px solid var(--brand-gold); background: #fdfdfd;">
            <h3 style="margin-bottom: 20px;">Destination</h3>

            <label class="form-label">ESTATE LOCATION (CAIRO)</label>
            <select class="c-input" id="c-zone" style="height: 50px;">
                <option value="" disabled selected>Select District...</option>
                <option value="Zamalek">Zamalek</option>
                <option value="Maadi">Maadi</option>
                <option value="New Cairo (Tagamoa)">New Cairo / Tagamoa</option>
                <option value="Sheikh Zayed">Sheikh Zayed / 6 Oct</option>
                <option value="Heliopolis">Heliopolis</option>
                <option value="Garden City">Garden City</option>
                <option value="Dokki">Dokki</option>
            </select>

            <label class="form-label">STREET ADDRESS</label>
            <input type="text" id="c-street" class="c-input" placeholder="e.g. 5 Brazil Street, Apt 4">

            <label class="form-label">RESIDENT NAME</label>
            <input type="text" id="c-name" class="c-input" placeholder="e.g. Lady Sarah...">

            <button onclick="sendButler()" class="big-add-btn" style="width: 100%; border-radius: 4px; background: var(--brand-cherry); color: white;">
                Confirm via WhatsApp
            </button>
        </div>
    </div>

    <!-- SCRIPT LOGIC -->
    <script>
        const catalog = [
            {
                // 0: STICKY BUNS
                title: "The Estate Sticky Buns",
                price: 850,
                img: "https://rfwlaucrlfohxrrspxmx.supabase.co/storage/v1/object/public/pomelli-gallery/Flow%20Dec%2031%202025.jpeg", 
                secondaryImg: "sticky_glove.jpg", // The Glove shot for description
                // Rich Visual Description
                desc: `
                    <p><strong>The Dough:</strong> Enriched brioche dough, prepared 24 hours in advance to ensure the crumb is distinct and feathery.</p>
                    <br>
                    <p><strong>The Bath:</strong> We do not drizzle. We drown. The buns are baked in a deep bed of salted brown-butter pecan caramel.</p>
                    <br>
                    <div style="background: url('sticky_glove.jpg'); height: 250px; background-size: cover; border-radius: 4px; margin: 15px 0;"></div>
                    <p><strong>The Texture:</strong> Gooey. Nutty. Caramelly. Salty. Designed to be pulled apart by hand.</p>
                `
            },
            {
                // 1: CAKE
                title: "Sovereign Gâteau",
                price: 1250,
                img: "https://rfwlaucrlfohxrrspxmx.supabase.co/storage/v1/object/public/pomelli-gallery/sovereign-carrot-cake-whole.jpg",
                secondaryImg: "https://rfwlaucrlfohxrrspxmx.supabase.co/storage/v1/object/public/pomelli-gallery/sovereign-carrot-cake-whole.jpg",
                desc: `
                    <p>A masterpiece of structure and flavor. Constructed of three dense layers of spiced heritage carrot sponge.</p>
                    <br>
                    <p><strong>The Pecan Surprise:</strong> At every bite, you encounter oven-candied pecans swimming in a hidden pool of salted butterscotch sauce.</p>
                    <br>
                    <p>Frosting: Brown-butter Cream Cheese Silk.</p>
                `
            },
            {
                // 2: SLICE
                title: "The Salon Slice",
                price: 145,
                img: "butler-hand-holding-cake-slice.jpg", // BUTLER HOLDING SLICE
                secondaryImg: "https://rfwlaucrlfohxrrspxmx.supabase.co/storage/v1/object/public/pomelli-gallery/carrot-cake-slice-art-deco-plate.jpg",
                desc: `
                    <p>Sometimes one does not wish to share. A precise, generous cut of the Sovereign.</p>
                    <div style="background: url('https://rfwlaucrlfohxrrspxmx.supabase.co/storage/v1/object/public/pomelli-gallery/carrot-cake-slice-art-deco-plate.jpg'); height: 200px; background-size: cover; background-position:center; margin: 20px 0;"></div>
                    <p>Served on an art-deco plate for the visual pleasure of the guest. Best consumed with Earl Grey.</p>
                `
            },
            {
                // 3: SERVICE
                title: "Service Inquiry",
                price: 0,
                img: "https://rfwlaucrlfohxrrspxmx.supabase.co/storage/v1/object/public/pomelli-gallery/butler-service-caramel-drip.jpg",
                secondaryImg: "",
                desc: `
                    <p>Tableside service à la Russe.</p>
                    <p>We provide the silver, the linen, and the staff. You provide the guests.</p>
                    <br>
                    <p>Please use the checkout to start a conversation with our Head Butler regarding dates.</p>
                `
            }
        ];

        let cart = [];

        // NAVIGATION
        function switchTab(id, btn) {
            document.querySelectorAll('.tab-content').forEach(el=>el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el=>el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            btn.classList.add('active');
        }

        // SHEET LOGIC
        function openDetails(idx) {
            const p = catalog[idx];
            document.getElementById('m-title').innerText = p.title;
            document.getElementById('m-price').innerText = (p.price > 0) ? p.price + " EGP" : "Bespoke";
            document.getElementById('m-img').src = p.img;
            
            // RICH HTML INJECTION
            document.getElementById('m-desc').innerHTML = p.desc;
            
            // Logic for visual
            if(p.secondaryImg && p.secondaryImg !== "") {
                 // Handled in HTML string mostly, but could set bg here
            }

            // Button
            const btn = document.getElementById('m-btn');
            btn.innerText = (p.price > 0) ? "Secure Allocation" : "Start Inquiry";
            btn.onclick = function() { addToCart(idx); };

            document.getElementById('sheet-overlay').classList.add('open');
            document.getElementById('product-sheet').classList.add('open');
            document.getElementById('buy-bar').classList.add('visible');
        }

        function closeSheet() {
            document.getElementById('sheet-overlay').classList.remove('open');
            document.getElementById('product-sheet').classList.remove('open');
            document.getElementById('buy-bar').classList.remove('visible');
        }

        // CART LOGIC
        function addToCart(idx) {
            cart.push(catalog[idx]);
            updateBag();
            closeSheet();
            alert("Provision secured in Trunk.");
        }

        function updateBag() {
            const b = document.getElementById('cart-badge');
            b.innerText = cart.length;
            b.classList.add('show');
            renderCart();
        }

        function openConcierge() {
            renderCart();
            document.getElementById('cart-panel').classList.add('open');
        }

        function closeConcierge() {
            document.getElementById('cart-panel').classList.remove('open');
        }

        function renderCart() {
            const list = document.getElementById('cart-list');
            const form = document.getElementById('checkout-form');
            const empty = document.getElementById('empty-msg');
            
            list.innerHTML = "";
            
            if(cart.length === 0) {
                empty.style.display = 'block';
                form.style.display = 'none';
            } else {
                empty.style.display = 'none';
                form.style.display = 'block';
                
                let html = "";
                cart.forEach(item => {
                    html += `<div style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px solid #eee; padding-bottom:5px;">
                        <span>${item.title}</span>
                        <span style="color:var(--brand-cherry)">${item.price} EGP</span>
                    </div>`;
                });
                list.innerHTML = html;
            }
        }

        // === WHATSAPP BUTLER ===
        function sendButler() {
            const name = document.getElementById('c-name').value;
            const zone = document.getElementById('c-zone').value;
            const street = document.getElementById('c-street').value;
            
            if(!name || !zone || !street) return alert("The Concierge requires full details to dispatch.");

            // FANCY LANGUAGE GENERATOR
            let msg = `*GREETINGS POMELLI CONCIERGE*%0a%0a`;
            msg += `My name is ${name}. I write to you from ${zone}.%0a%0a`;
            msg += `I wish to secure allocation of the following provisions:%0a`;
            
            let total = 0;
            cart.forEach(item => {
                msg += `- ${item.title} (${item.price > 0 ? item.price : 'Inquire'})%0a`;
                total += item.price;
            });
            
            msg += `%0a*Total Estimate: ${total} EGP*%0a`;
            msg += `%0aDelivery Address: ${street}, ${zone}.%0a`;
            msg += `%0aKindly confirm dispatch.`;

            window.open(`https://wa.me/201024274466?text=${msg}`);
        }

    </script>
</body>
</html>
